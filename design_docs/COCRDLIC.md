# 詳細設計書: COCRDLIC (Credit Card List)

## 1. 処理概要
クレジットカードを一覧表示する。管理者は全カード、一般ユーザーは自身のアカウントに関連付けられたカードのみを表示可能。

## 2. 入出力定義
- **画面 (BMS):** `COCRDLI` (Mapset), `CCRDSLA` (Map)
- **ファイル (VSAM):**
    - `CARDDAT`: カードマスタ (KSDS)
    - `CXACAIX`: カード・アカウントクロスリファレンス (AIX)

## 3. 処理フロー
1. **コンテキスト判定:** 通信領域にアカウントIDがあるか、または管理者が検索条件を指定しているか判定。
2. **一覧取得:** AIX または主キーを用いて `STARTBR` / `READNEXT` でループ取得。
3. **ページング:** PF7/PF8 によるページ移動。
4. **アクション:** 特定のカードを選択して `COCRDSLC` (照会) または `COCRDUPC` (更新) へ `XCTL`。

## 4. データベース操作
- AIX (CXACAIX) を用いたアカウント単位の絞り込み読み込み。

## 5. 移行への考慮事項
- 複数カードの管理: 一つのアカウントに複数のカードが紐付く 1:N の関係を適切に設計する。
