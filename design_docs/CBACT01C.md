# 詳細設計書: CBACT01C (Account File Reader)

## 1. 処理概要
アカウントマスターファイル (`ACCTFILE`) を順読みし、その内容を複数の出力ファイル (`OUTFILE`, `ARRYFILE`, `VBRCFILE`) へ書き出すデータ抽出・変換プログラム。

## 2. 入出力定義
- **入力ファイル (VSAM KSDS):** `ACCTFILE` (アカウントマスタ)
- **出力ファイル (Sequential):**
    - `OUTFILE`: アカウント情報のフラットファイル。
    - `ARRYFILE`: アカウント残高等の配列を含むファイル。
    - `VBRCFILE`: 可変長レコードファイル。

## 3. 処理フロー
1. 各ファイルを `OPEN`。
2. `ACCTFILE` からレコードを `READ NEXT`。
3. 読み込んだデータを各出力レコード形式へ転記。
    - `OUT-ACCT-CURR-CYC-DEBIT` 等で `COMP-3` 形式への変換が行われる。
4. 出力ファイルへ `WRITE`。
5. ファイルの終端 (EOF) まで繰り返し。
6. ファイルを `CLOSE` して終了。

## 4. 移行への考慮事項
- **データ形式変換:** `COMP-3` (パック10進数) は PostgreSQL では `NUMERIC` または `DECIMAL` に相当。移行時の ETL 処理で変換が必要。
- **ファイル出力:** バッチの出力が後続のジョブで使用されている場合、移行後はデータベースのテーブルや一時テーブルへの書き込みに置き換える。
